!function(i){"use strict";function t(i,t){this.oForm=document.getElementById(i),this.msg=t,this.rules=this.msg.rules,this.messages=this.msg.messages,this.tips={require:"此项必须填写",alphDig:"必须为字母数字组合",isDigital:"必须为数字",isMobile:"必须为手机号码组合",isEqualTo:"必须与第一次输入一致",minLength:"与要求字符不相符",maxLength:"与要求字符不相符"},this.triggerEvent="blur",this.validList=[];for(var e in this.rules){var s=document.getElementById(e);s.rules_oby=this.rules[e],s.messages_oby={},s.isDirty_oby=!1,this.validList.push(s)}this.init()}t.prototype.init=function(){this.setTip(),this.events()},t.prototype.setTip=function(){if(void 0==this.messages||t.tool.isPlainObject(this.messages))for(var i=0;i<this.validList.length;i++){var e=this.validList[i];for(var s in e.rules_oby)e.rules_oby[s]&&(e.messages_oby[s]=this.tips[s])}else for(var i=0;i<this.validList.length;i++){var e=this.validList[i],r=this.validList[i].id,n=this.messages[r];for(var s in e.rules_oby)e.rules_oby[s]&&void 0!==n&&n[s]?e.messages_oby[s]=n[s]:e.messages_oby[s]=this.tips[s]}},t.prototype.events=function(){function i(){var i=null,t=this.rules_oby,s=this.messages_oby;document.getElementById(this.id+"_error")?i=document.getElementById(this.id+"_error"):(i=document.createElement("label"),i.id=this.id+"_error",i.className="error");for(var r in t){if(this[r+"btn"]=!1,"require"===r&&t[r]){var n=e(this,r,"isNull",i);if(n)return}else if("isDigital"===r&&t[r]){var n=e(this,r,"isDigital",i);if(n)return}else if("minLength"===r&&t[r]){if(this.value.length<t[r])return i.innerHTML=s[r],void this.parentNode.appendChild(i);i.innerHTML=""}else if("maxLength"===r&&t[r]){if(this.value.length>t[r])return i.innerHTML=s[r],void this.parentNode.appendChild(i);i.innerHTML=""}else if("isMobile"===r&&t[r]){var n=e(this,r,"isMobile",i);if(n)return}else if("alphDig"===r&&t[r]){var n=e(this,r,"alphDig",i);if(n)return}else if("isEqualTo"===r&&t[r]){var a=document.getElementById(t[r]),n=e(this,r,"isEqualTo",i,a);if(n)return}this[r+"btn"]=!0}}function e(i,e,s,r,n){var a=i.messages_oby;return t.validFn[s](i.value,n)?(r.innerHTML=a[e],i.parentNode.appendChild(r),!0):(r.innerHTML="",!1)}for(var s=this,r=0;r<s.validList.length;r++)s.validList[r].addEventListener(s.triggerEvent,i,!1),s.validList[r].triggerFn=i},t.prototype.isValid=function(){for(var i=0;i<this.validList.length;i++){var t=this.validList[i].rules_oby;for(var e in t)if(!this.validList[i][e+"btn"])return!1}return!0},t.prototype.valid=function(i){if(!this.isValid()){for(var t=0;t<this.validList.length;t++)this.validList[t].triggerFn.call(this.validList[t]);return!1}i?i():""},t.tool={},t.tool.isPlainObject=function(i){var t=!1;for(var e in i){t=!0;break}return!t},t.validFn={},t.validFn.isNull=function(i){return""==t.validFn.trim(i)},t.validFn.trim=function(i){return i.replace(/^\s+/,"").replace(/\s+$/,"")},t.validFn.isDigital=function(i){return!/^[0-9]+$/.test(i)},t.validFn.isMobile=function(i){return!/^0?1[3|4|5|8|7][0-9]\d{8}$/.test(i)},t.validFn.alphDig=function(i){return!/^[a-zA-Z0-9]+$/.test(i)},t.validFn.isEqualTo=function(i,t){return!(t.value==i)},i.ShawnwayValidation=function(i,e){return new t(i,e)}}(window);